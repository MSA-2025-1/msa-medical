<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.emr.slgi.payment.PayMentDAO">	
	<insert id="insertPayMent">
	insert into tb_payment(treatment_id,payment_status,payment)
	value(#{id},'RR01','10000')
	</insert>
	
	<select id ="getList">
	select r.name, p.*
	from tb_payment p 
	join tb_treatment t on p.treatment_id = t.id
	join tb_reception r on r.uuid = t.uuid
	where p.payment_status = 'RR01'
	order by t.treat_date
	</select>
	
	<update id="statusPayment">
	update tb_payment
	set payment_status ='RR02',
		payment_date = now()
	where id = #{id}
	
	</update>
</mapper>